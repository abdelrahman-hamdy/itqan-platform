# =============================================================================
# Itqan Platform Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values.
# NEVER commit the .env file to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="Itqan Platform"
APP_ENV=local
APP_KEY=
# IMPORTANT: Set to false in production to hide stack traces
APP_DEBUG=false
APP_TIMEZONE=UTC  # Store all timestamps in UTC, convert to academy timezone for display

# URL Configuration (IMPORTANT for production)
# APP_URL: Full base URL (e.g., https://itqan.app)
# APP_DOMAIN: Domain only, used for subdomain routing (e.g., itqan.app)
# Email verification links use: https://{subdomain}.{APP_DOMAIN}/email/verify/...
APP_URL=https://itqan-platform.test
APP_DOMAIN=itqan-platform.test

# Localization
APP_LOCALE=ar
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# Maintenance Mode
APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

# Security - Use 14 for production (stronger but slower)
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
# Use 'warning' or 'error' in production
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=itqan_platform
DB_USERNAME=root
DB_PASSWORD=
DB_SOCKET=

# -----------------------------------------------------------------------------
# Session
# -----------------------------------------------------------------------------
SESSION_DRIVER=database
SESSION_LIFETIME=120
# IMPORTANT: Enable encryption in production for security
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=.itqan-platform.test
# IMPORTANT: Set to true in production (requires HTTPS)
SESSION_SECURE_COOKIE=false
SESSION_SAME_SITE=lax

# -----------------------------------------------------------------------------
# Broadcasting & Queue
# -----------------------------------------------------------------------------
BROADCAST_DRIVER=reverb
BROADCAST_CONNECTION=reverb
FILESYSTEM_DISK=local
# IMPORTANT: Use 'redis' in production with queue worker running
# Command: php artisan queue:work --daemon
QUEUE_CONNECTION=redis

# -----------------------------------------------------------------------------
# Cache
# -----------------------------------------------------------------------------
CACHE_STORE=redis
CACHE_PREFIX=

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_CLIENT=predis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Memcached (optional)
# -----------------------------------------------------------------------------
MEMCACHED_HOST=127.0.0.1

# -----------------------------------------------------------------------------
# Mail (Resend - https://resend.com)
# -----------------------------------------------------------------------------
MAIL_MAILER=resend
# For production: use your verified domain (e.g., noreply@itqanway.com)
MAIL_FROM_ADDRESS="onboarding@resend.dev"
MAIL_FROM_NAME="${APP_NAME}"

# Resend API Key - Get yours at https://resend.com/api-keys
RESEND_API_KEY=

# -----------------------------------------------------------------------------
# AWS (optional - for S3 storage)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# -----------------------------------------------------------------------------
# Vite Frontend Build
# -----------------------------------------------------------------------------
VITE_APP_NAME="${APP_NAME}"

# -----------------------------------------------------------------------------
# Google OAuth (Required for Google Meet Integration)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/google/callback
GOOGLE_PROJECT_ID=

# Optional: Google Service Account Settings
GOOGLE_PRIVATE_KEY_ID=
GOOGLE_PRIVATE_KEY=
GOOGLE_CLIENT_EMAIL=
GOOGLE_CLIENT_X509_CERT_URL=
GOOGLE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
GOOGLE_TOKEN_URI=https://oauth2.googleapis.com/token

# -----------------------------------------------------------------------------
# LiveKit (Video Conferencing)
# -----------------------------------------------------------------------------
# Self-hosted or cloud LiveKit server
LIVEKIT_SERVER_URL=wss://your-livekit-server.com
LIVEKIT_API_URL=https://your-livekit-server.com
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_RECORDINGS_URL=https://your-livekit-server.com/recordings
LIVEKIT_RECORDINGS_ACCESS_MODE=redirect

# -----------------------------------------------------------------------------
# Chat Configuration
# -----------------------------------------------------------------------------
CHAT_CUSTOM_ROUTES=true
CHATIFY_CUSTOM_ROUTES=true
CHATIFY_ROUTES_PREFIX=chat

# -----------------------------------------------------------------------------
# Laravel Reverb (WebSockets)
# -----------------------------------------------------------------------------
REVERB_APP_ID=
REVERB_APP_KEY=
REVERB_APP_SECRET=
REVERB_HOST=itqan-platform.test
REVERB_PORT=8085
REVERB_SERVER_HOST=0.0.0.0
REVERB_SERVER_PORT=8085
REVERB_SCHEME=https

# SSL/TLS Configuration for Reverb (development with Valet)
REVERB_TLS_CERT=
REVERB_TLS_KEY=
REVERB_TLS_VERIFY_PEER=false

# Vite Reverb Configuration
VITE_REVERB_APP_KEY="${REVERB_APP_KEY}"
VITE_REVERB_HOST="${REVERB_HOST}"
VITE_REVERB_PORT="${REVERB_PORT}"
VITE_REVERB_SCHEME="${REVERB_SCHEME}"

# -----------------------------------------------------------------------------
# Mobile App Configuration
# -----------------------------------------------------------------------------
# Add your mobile app URL for CORS configuration
MOBILE_APP_URL=

# -----------------------------------------------------------------------------
# Payment Gateways
# -----------------------------------------------------------------------------
# Paymob Configuration (Egypt/Saudi Arabia)
PAYMOB_API_KEY=
PAYMOB_PUBLIC_KEY=
PAYMOB_SECRET_KEY=
PAYMOB_HMAC_SECRET=
PAYMOB_SANDBOX=true
# Integration IDs for different payment methods
PAYMOB_CARD_INTEGRATION_ID=
PAYMOB_WALLET_INTEGRATION_ID=
PAYMOB_INSTALLMENTS_INTEGRATION_ID=
PAYMOB_APPLE_PAY_INTEGRATION_ID=
PAYMOB_IFRAME_ID=
# Tokenization settings
PAYMOB_TOKENIZATION_ENABLED=true
PAYMOB_AUTO_SAVE_CARD=false
# Apple Pay settings
PAYMOB_APPLE_PAY_MERCHANT_ID=
PAYMOB_APPLE_PAY_DOMAIN=
PAYMOB_APPLE_PAY_DISPLAY_NAME=
# Void window in hours
PAYMOB_VOID_WINDOW_HOURS=24
# Comma-separated list of allowed IPs for webhooks (leave empty to allow all)
PAYMOB_WEBHOOK_IPS=

# EasyKash Configuration (Egypt)
EASYKASH_API_KEY=
EASYKASH_SECRET_KEY=
EASYKASH_SANDBOX=true
EASYKASH_BASE_URL=https://back.easykash.net
EASYKASH_CASH_EXPIRY=3
# Comma-separated list of allowed IPs for webhooks (leave empty to allow all)
EASYKASH_WEBHOOK_IPS=

# Tap Configuration (Saudi Arabia)
TAP_SECRET_KEY=
TAP_PUBLIC_KEY=

# -----------------------------------------------------------------------------
# Error Tracking (optional)
# -----------------------------------------------------------------------------
# Sentry Configuration
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------------------------------
# Telescope (Development Debugging)
# -----------------------------------------------------------------------------
# IMPORTANT: Disable in production
TELESCOPE_ENABLED=false
